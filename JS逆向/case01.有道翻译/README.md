# [Case 1. 有道翻译](https://fanyi.youdao.com/#/TextTranslate)

## 1.1. 寻找数据来源

1. 设置中禁用`JavaScript`，验证是否是`HTML`数据
2. 在所有网络请求中搜索（响应可能有加密或者编码）
3. 筛选请求时机

## 1.2. 识别加密参数

- 大前提一：请求参数、请求头、请求体、`cookie`中的参数都可能对请求造成影响
- 大前提二：除了浏览器自动携带的部分请求头，所有参数都由服务端自定义，作用只能靠猜

1. 明确目标
2. 观察哪些参数对目标有影响
3. 观察参数是否是动态的
4. 观察参数是来自其他请求还是通过 js 生成

## 1.3. 定位加密算法

### 1.3.1 全局搜索

- 网站一般会压缩`js`代码，搜索时需要注意是否要包含空格
  - 假设搜索参数`sign`
    - `sign`
    - `sign:`
    - `sign=`
    - `\bsign\b`（正则表达式）
- 只看`js`文件中的搜索结果
- 遇到类似`base64`编码的数据可以先解码看看
- 可以根据搜索目标的结果长度搜索对应算法关键词
- 搜索`encrypt`（加密）、`decrypt`（解密）、`interceptors.response.use`（拦截器） 等相关关键字

### 1.3.2. 调用堆栈

- 描述函数间的调用链，每调用一个函数就加深一层，回到上一层就知道是哪里调用了当前函数
- 注意
  - 只在代码运行起来时，才有调用堆栈，调用堆栈是根据当前运行到的某一段代码进行描述的
  - 任何函数可能多个地方都在使用
